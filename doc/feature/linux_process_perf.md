# 程序运行慢

## 背景：

在一次调试过程中，发现程序由原来的7s业务逻辑时间变为了200+s，以及sshd登录上去很慢。其中程序没有进行大变化。

## 问题定位：

1. 使用free -h命令，无异常，怀疑内存问题
2. 使用df -h命令，无异常，怀疑磁盘问题
3. top命令，发现有一个程序cpu占用达到500%。使用kill命令挂起进程，启动程序，发现还是200+s。然后将挂起进程进行恢复。怀疑cpu问题。
4. 使用taskset将程序进行绑定核心，启动软件，还是200+s，这一步是怀疑cache miss问题
5. vmstat，dfstat等命令，发现无异常，pending process一直为0.磁盘，cpu，网络，内存都正常
6. 注意到sshd登录慢，查找sshd进程，发现有200+进程，因此将该进程杀了，启动业务软件，恢复正常7s
7. 如果以上还不行，使用perf命令，查找系统问题。